<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta
      name="author"
      content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Hugo 0.83.1" />
    <title>個人頁面</title>

    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/5.0/examples/album/"
    />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../styles/index.css" />

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      /* text truncate final solution, # ellipsis */
      .card-text {
        display: -webkit-box;
        max-width: 200px;
        -webkit-line-clamp: 4;
        -webkit-box-orient: vertical;
        overflow-wrap: anywhere;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <!-- header navbar -->
    <%- include("components/header")%>
    <div class="d-flex"></div>
    <main>
      <div class="container bg-black">
        <div class="container bg-light"></div>
        <div class="row"></div>
      </div>
      <section class="py-5 text-center container">
        <div class="row py-lg-5">
          <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light user-name"></h1>
            <p class="lead text-muted user-introduction"></p>
            <p>
              <a href="#" class="btn btn-primary my-2">Main call to action</a>
              <a href="#" class="btn btn-secondary my-2">Secondary action</a>
            </p>
          </div>
        </div>
      </section>

      <div class="album py-5 bg-light">
        <div class="container">
          <div
            id="article-container"
            class="row row-cols-1 row-cols-md-2 row-cols-lg-2 g-3"
          ></div>
        </div>
      </div>
    </main>

    <footer class="text-muted py-5">
      <div class="container">
        <p class="float-end mb-1">
          <a href="#">Back to top</a>
        </p>
        <p class="mb-1">
          Album example is &copy; Bootstrap, but please download and customize
          it for yourself!
        </p>
        <p class="mb-0">
          New to Bootstrap? <a href="/">Visit the homepage</a> or read our
          <a href="../getting-started/introduction/">getting started guide</a>.
        </p>
      </div>
      <div class="card-text">
        wqpouvhpoainqerwopvidsb,powieewfhopi,2oiuqwbgpov,inqnpoiwebfpoqb,eropvsaicqpnowidsbcpoqiwksdbconpqiskadbcxoiwsdbcno;ibsdocibpoqwidkscnp;qiwdsbcpoiwdbscopiqwbsdopibnk
      </div>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script>
      const url = "/user/article/api";
      const token = localStorage.getItem("accessToken");
      console.log("token: " + token);
      fetch(url, {
        method: "GET",
        headers: {
          Authorization: "Bearer " + token,
        },
      })
        .then((res) => {
          return res.json();
        })
        .then((res) => {
          console.log(res);

          let articleContainer = document.querySelector("#article-container");
          for (let i = 0; i < res.length; i++) {
            let articleCard = document.createElement("div");
            articleCard.setAttribute("class", "col");

            articleCard.innerHTML = `
              <div class="card shadow-sm">
                
                <div class="row g-0">
                  <div class="col-md-6">
                    <svg
                      class="bd-placeholder-img card-img-top"
                      width="32"
                      
                      xmlns="http://www.w3.org/2000/svg"
                      role="img"
                      aria-label="Placeholder: Thumbnail"
                      preserveAspectRatio="xMidYMid slice"
                      focusable="false"
                    >
                      <title>Placeholder</title>
                      <rect width="100%" height="100%" fill="#55595c" />
                      <text x="50%" y="50%" fill="#eceeef" dy=".3em">
                        Thumbnail
                      </text>
                    </svg>
                  </div>
                  <div class="col-md-6">
                    <div class="card-body">
                      <p class="card-text">
                        ${res[i].content_html}
                      </p>
                      <div
                        class="
                          d-flex
                          justify-content-between
                          align-items-center
                        "
                      >
                        <div class="btn-group">
                          <button
                            type="button"
                            class="btn btn-sm btn-outline-secondary"
                          >
                            View
                          </button>
                          <button
                            type="button"
                            class="btn btn-sm btn-outline-secondary"
                          >
                            Edit
                          </button>
                        </div>
                        <small class="text-muted">9 mins</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            `;
            articleContainer.appendChild(articleCard);
          }
        })

        .catch((err) => {
          console.log(err);
          // self.location.href = "/user/sign";
        });
    </script>
    <!-- <script src="../js/ellipsis.js"></script> -->
  </body>
</html>
